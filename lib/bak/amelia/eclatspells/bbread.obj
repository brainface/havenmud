// Amelia@Haven

#include <lib.h>
#include <meal_types.h>
inherit LIB_MEAL;
inherit LIB_SMELL;
inherit LIB_TOUCH;

int timer = 100;

static void create() {
   meal::create();
   SetKeyName("banana bread");
   SetShort("a banana bread loaf");
   SetId( ({ "loaf","bread","bread loaf" }) );
   SetAdjectives( ({ "banana","golden","brown" }) );
   SetLong("The crust of the banana bread is an almost perfect "
           "golden brown.  Any sane person would gobble it right "
           "up, no matter how ready they were to explode from too "
           "much eating!");
   SetMass(5);
   SetMealType(MEAL_FOOD);
   SetStrength(50);
   SetMealMessages("That is an awful lot of bread, but all it does it "
                   "make one want more:  It is yummy and delicious "
                   "and too good to be true!",
                   "$N eats up a loaf of banana bread.");
   SetTouch("The crust of the bread is firm to the touch, but it "
            "feels warm and is probably very soft and buttery on "
            "the inside.");
   SetSmell("A warm, steamy smell of banana floats off the bread.");
   set_heart_beat(2);
   SetProperty("magic","This banana bread was conjured by an Eclat.");
}

void heart_beat() {
   timer--;
   if(!timer) {
      if(environment(this_object())) {
         message("other","The banana bread goes poof.",
                 environment(this_object()));
      }
      eventDestruct();
   }
}